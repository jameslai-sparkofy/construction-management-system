# å·¥ç¨‹ç®¡ç†ç³»çµ± - é é¢æ¶æ§‹è©³è§£

## ğŸ“± é é¢ç¸½è¦½

ç³»çµ±ç›®å‰åŒ…å« **22å€‹ä¸»è¦é é¢**ï¼Œåˆ†ç‚ºä»¥ä¸‹å¹¾å€‹åŠŸèƒ½æ¨¡çµ„ï¼š
- **æ ¸å¿ƒæ¥­å‹™é é¢** (5å€‹)
- **ç”¨æˆ¶ç®¡ç†é é¢** (7å€‹) 
- **ç®¡ç†å“¡å·¥å…·é é¢** (6å€‹)
- **æ¸¬è©¦èˆ‡å·¥å…·é é¢** (4å€‹)

---

## ğŸ  æ ¸å¿ƒæ¥­å‹™é é¢

### 1. index.html - ç³»çµ±é¦–é 
**åŠŸèƒ½**: ç³»çµ±å…¥å£é é¢
```
ç”¨é€”: ç³»çµ±æ­¡è¿é é¢ï¼Œå¯èƒ½åŒ…å«å°èˆªåˆ°å…¶ä»–ä¸»è¦åŠŸèƒ½
ç”¨æˆ¶: æ‰€æœ‰ç”¨æˆ¶
æ¬Šé™: å…¬é–‹è¨ªå•
å°èˆª: é€šå¸¸å°å‘ç™»å…¥é é¢æˆ–å„€è¡¨æ¿
```

### 2. login-simple.html - ç”¨æˆ¶ç™»å…¥
**åŠŸèƒ½**: ç”¨æˆ¶èº«ä»½é©—è­‰
```javascript
// ç™»å…¥æµç¨‹
1. ç”¨æˆ¶è¼¸å…¥æ‰‹æ©Ÿè™Ÿç¢¼å’Œå¯†ç¢¼
2. å‰ç«¯é©—è­‰è¼¸å…¥æ ¼å¼
3. èª¿ç”¨ API: POST /api/v1/auth/login
4. æˆåŠŸå¾Œå­˜å„² token å’Œç”¨æˆ¶ä¿¡æ¯åˆ° localStorage
5. é‡å®šå‘åˆ° project-list.html
```
**ç‰¹é»**:
- ç°¡åŒ–çš„ç™»å…¥ç•Œé¢
- æ”¯æ´æ‰‹æ©Ÿè™Ÿç¢¼ç™»å…¥
- è‡ªå‹•ä¿å­˜ç™»å…¥ç‹€æ…‹

### 3. project-list.html - é …ç›®åˆ—è¡¨é 
**åŠŸèƒ½**: é¡¯ç¤ºç”¨æˆ¶å¯å­˜å–çš„æ‰€æœ‰é …ç›®
```javascript
// é é¢æ¶æ§‹
â”œâ”€â”€ ç”¨æˆ¶è³‡æ–™çµ„ä»¶ (user-profile-component.js)
â”œâ”€â”€ é …ç›®ç¯©é¸å™¨ (ç‹€æ…‹ã€æ—¥æœŸ)
â”œâ”€â”€ é …ç›®å¡ç‰‡åˆ—è¡¨
â”‚   â”œâ”€â”€ é …ç›®åç¨±å’Œæè¿°
â”‚   â”œâ”€â”€ é€²åº¦æŒ‡ç¤ºå™¨
â”‚   â”œâ”€â”€ å·¥ç­æ•¸é‡çµ±è¨ˆ
â”‚   â””â”€â”€ å¿«é€Ÿæ“ä½œæŒ‰éˆ•
â””â”€â”€ æ–°å¢é …ç›®æŒ‰éˆ• (ç®¡ç†å“¡é™å®š)
```
**API èª¿ç”¨**:
- `GET /api/v1/projects` - å–å¾—é …ç›®åˆ—è¡¨
- æ ¹æ“šç”¨æˆ¶è§’è‰²éæ¿¾é¡¯ç¤ºå…§å®¹

### 4. project-detail.html - é …ç›®è©³æƒ…é 
**åŠŸèƒ½**: é¡¯ç¤ºå–®ä¸€é …ç›®çš„è©³ç´°ä¿¡æ¯å’Œæ“ä½œ
```javascript
// é é¢çµæ§‹
â”œâ”€â”€ é …ç›®åŸºæœ¬ä¿¡æ¯
â”‚   â”œâ”€â”€ é …ç›®åç¨±ã€æè¿°
â”‚   â”œâ”€â”€ é–‹å§‹/çµæŸæ—¥æœŸ
â”‚   â””â”€â”€ é …ç›®ç‹€æ…‹
â”œâ”€â”€ å·¥ç­ç®¡ç†å€å¡Š
â”‚   â”œâ”€â”€ å·¥ç­åˆ—è¡¨
â”‚   â”œâ”€â”€ æˆå“¡çµ±è¨ˆ
â”‚   â””â”€â”€ å·¥ç­é€²åº¦
â”œâ”€â”€ æ—¥èªŒç®¡ç†
â”‚   â”œâ”€â”€ æ¯æ—¥å·¥ä½œè¨˜éŒ„
â”‚   â”œâ”€â”€ ç…§ç‰‡ä¸Šå‚³
â”‚   â””â”€â”€ é€²åº¦æ›´æ–°
â””â”€â”€ å¿«é€Ÿå°èˆª
    â”œâ”€â”€ ç”¨æˆ¶ç®¡ç†
    â”œâ”€â”€ å·¥ç­è¨­ç½®
    â””â”€â”€ å ±è¡¨æŸ¥çœ‹
```
**æ¬Šé™æ§åˆ¶**:
- ç®¡ç†å“¡ï¼šå®Œæ•´ç·¨è¼¯æ¬Šé™
- æ¥­ä¸»ï¼šæŸ¥çœ‹æ¬Šé™
- å·¥ç­è² è²¬äººï¼šç®¡ç†è‡ªå·±å·¥ç­
- å·¥ç­æˆå“¡ï¼šæŸ¥çœ‹æŒ‡æ´¾ä»»å‹™

### 5. daily-log-share.html - æ—¥èªŒåˆ†äº«é 
**åŠŸèƒ½**: å…¬é–‹åˆ†äº«å·¥ç¨‹é€²åº¦
```javascript
// ç‰¹æ®Šè¨­è¨ˆ
â”œâ”€â”€ ç„¡éœ€ç™»å…¥å³å¯æŸ¥çœ‹
â”œâ”€â”€ éŸ¿æ‡‰å¼è¨­è¨ˆ (æ”¯æ´æ‰‹æ©ŸæŸ¥çœ‹)
â”œâ”€â”€ å·¥ç¨‹ç…§ç‰‡å±•ç¤º
â”œâ”€â”€ é€²åº¦æ™‚é–“è»¸
â””â”€â”€ åˆ†äº«é€£çµåŠŸèƒ½
```
**URL æ ¼å¼**: `?project_id=xxx&date=yyyy-mm-dd`

---

## ğŸ‘¥ ç”¨æˆ¶ç®¡ç†é é¢

### 6. project-user-management.html - æ ¸å¿ƒç”¨æˆ¶ç®¡ç†é 
**åŠŸèƒ½**: é …ç›®ç´šåˆ¥çš„ç”¨æˆ¶æ¬Šé™ç®¡ç† (æˆ‘å€‘ä¸»è¦ä¿®å¾©çš„é é¢)
```javascript
// è¤‡é›œçš„é é¢æ¶æ§‹
â”œâ”€â”€ å·¦å´é¢æ¿ - æ·»åŠ ç”¨æˆ¶åˆ°å°ˆæ¡ˆ
â”‚   â”œâ”€â”€ ç”¨æˆ¶é¡å‹æ¨™ç±¤ (ç®¡ç†å“¡/å¸«çˆ¶/æ¥­ä¸»)
â”‚   â”œâ”€â”€ ç”¨æˆ¶é¸æ“‡åˆ—è¡¨
â”‚   â”‚   â”œâ”€â”€ ç®¡ç†å“¡: å¾ employees_simple è¼‰å…¥
â”‚   â”‚   â”œâ”€â”€ å¸«çˆ¶: å¾ object_50hj8__c è¼‰å…¥
â”‚   â”‚   â””â”€â”€ æ¥­ä¸»: å¾ newopportunitycontactsobj è¼‰å…¥
â”‚   â”œâ”€â”€ è§’è‰²é¸æ“‡å™¨ (è² è²¬äºº/æˆå“¡)
â”‚   â”œâ”€â”€ å·¥ç­é¸æ“‡å™¨
â”‚   â””â”€â”€ æ·»åŠ æŒ‰éˆ•
â””â”€â”€ å³å´é¢æ¿ - å°ˆæ¡ˆæˆå“¡åˆ—è¡¨
    â”œâ”€â”€ ç®¡ç†å“¡åˆ—è¡¨ (åƒ…ç®¡ç†å“¡å¯è¦‹)
    â”œâ”€â”€ æ¥­ä¸»åˆ—è¡¨
    â””â”€â”€ å·¥ç­æˆå“¡åˆ—è¡¨
        â”œâ”€â”€ æŒ‰å·¥ç­åˆ†çµ„é¡¯ç¤º
        â”œâ”€â”€ è§’è‰²åˆ‡æ›é–‹é—œ
        â”œâ”€â”€ ç§»é™¤æŒ‰éˆ•
        â””â”€â”€ é€€å›åˆ°å·¥åœ°å¸«çˆ¶æŒ‰éˆ•
```

**æ¬Šé™é‚è¼¯**:
```javascript
// ä¾ç”¨æˆ¶è§’è‰²é¡¯ç¤ºä¸åŒå…§å®¹
if (user.type === 'admin') {
    // ç®¡ç†å“¡: çœ‹åˆ°æ‰€æœ‰åŠŸèƒ½
    showAllTabs();
    showAllOperations();
} else if (user.type === 'worker' && user.role === 'leader') {
    // å·¥ç­è² è²¬äºº: åªèƒ½ç®¡ç†è‡ªå·±å·¥ç­
    hideAdminTabs();
    filterToOwnTeam();
    showTeamManagementButtons();
} else {
    // å…¶ä»–ç”¨æˆ¶: åªèƒ½æŸ¥çœ‹æˆ–ç„¡æ¬Šé™
    redirectToProjectDetail();
}
```

### 7. global-user-management.html - å…¨åŸŸç”¨æˆ¶ç®¡ç†
**åŠŸèƒ½**: ç³»çµ±ç´šåˆ¥çš„ç”¨æˆ¶ç®¡ç† (ç®¡ç†å“¡å°ˆç”¨)
```javascript
// åŠŸèƒ½ç¯„åœ
â”œâ”€â”€ æŸ¥çœ‹æ‰€æœ‰ç³»çµ±ç”¨æˆ¶
â”œâ”€â”€ å‰µå»ºæ–°ç”¨æˆ¶å¸³è™Ÿ
â”œâ”€â”€ ä¿®æ”¹ç”¨æˆ¶åŸºæœ¬ä¿¡æ¯
â”œâ”€â”€ é‡è¨­ç”¨æˆ¶å¯†ç¢¼
â”œâ”€â”€ åœç”¨/å•Ÿç”¨ç”¨æˆ¶
â””â”€â”€ æ‰¹é‡æ“ä½œåŠŸèƒ½
```

### 8. global-project-user-management.html - å…¨åŸŸé …ç›®ç”¨æˆ¶ç®¡ç†
**åŠŸèƒ½**: è·¨é …ç›®çš„ç”¨æˆ¶æ¬Šé™çµ±ä¸€ç®¡ç†
```javascript
// é©ç”¨å ´æ™¯
â”œâ”€â”€ ç”¨æˆ¶åƒèˆ‡å¤šå€‹é …ç›®æ™‚çš„æ¬Šé™çµ±ä¸€è¨­å®š
â”œâ”€â”€ æ‰¹é‡åˆ†é…ç”¨æˆ¶åˆ°å¤šå€‹é …ç›®
â”œâ”€â”€ æ¬Šé™æ¨¡æ¿æ‡‰ç”¨
â””â”€â”€ è·¨é …ç›®æ•¸æ“šé·ç§»
```

### 9. member-management.html - å·¥ç­æˆå“¡ç®¡ç†
**åŠŸèƒ½**: å°ˆé–€ç®¡ç†å·¥ç­å…§éƒ¨æˆå“¡
```javascript
// å·¥ç­è² è²¬äººå°ˆç”¨åŠŸèƒ½
â”œâ”€â”€ æˆå“¡æŠ€èƒ½æ¨™ç±¤ç®¡ç†
â”œâ”€â”€ å·¥ä½œæ’ç­è¨­å®š
â”œâ”€â”€ æˆå“¡ç¸¾æ•ˆè¨˜éŒ„
â”œâ”€â”€ ä»»å‹™åˆ†é…
â””â”€â”€ æˆå“¡å‡ºå‹¤çµ±è¨ˆ
```

### 10. owner-management.html - æ¥­ä¸»ç®¡ç†
**åŠŸèƒ½**: å°ˆé–€ç®¡ç†é …ç›®æ¥­ä¸»
```javascript
// æ¥­ä¸»ç›¸é—œç®¡ç†
â”œâ”€â”€ æ¥­ä¸»è¯ç¹«ä¿¡æ¯
â”œâ”€â”€ æ±ºç­–æ¬Šé™è¨­å®š
â”œâ”€â”€ æºé€šè¨˜éŒ„
â”œâ”€â”€ è®Šæ›´å¯©æ ¸æµç¨‹
â””â”€â”€ ä»˜æ¬¾ç‹€æ…‹è¿½è¹¤
```

### 11. team-member-management.html - å·¥ç­æˆå“¡è©³ç´°ç®¡ç†
**åŠŸèƒ½**: æ›´ç´°ç·»çš„å·¥ç­æˆå“¡ç®¡ç†åŠŸèƒ½

### 12. user-profile.html - ç”¨æˆ¶å€‹äººè³‡æ–™
**åŠŸèƒ½**: ç”¨æˆ¶å€‹äººè³‡æ–™ç·¨è¼¯å’Œè¨­å®š
```javascript
// å€‹äººè¨­å®šåŠŸèƒ½
â”œâ”€â”€ åŸºæœ¬è³‡æ–™ç·¨è¼¯ (å§“åã€é›»è©±ã€email)
â”œâ”€â”€ å¯†ç¢¼ä¿®æ”¹
â”œâ”€â”€ é ­åƒä¸Šå‚³
â”œâ”€â”€ é€šçŸ¥åå¥½è¨­å®š
â”œâ”€â”€ èªè¨€é¸æ“‡
â””â”€â”€ å¸³è™Ÿå®‰å…¨è¨­å®š
```

---

## ğŸ› ï¸ ç®¡ç†å“¡å·¥å…·é é¢

### 13. super-admin-users.html - è¶…ç´šç®¡ç†å“¡ç”¨æˆ¶ç®¡ç†
**åŠŸèƒ½**: æœ€é«˜æ¬Šé™çš„ç”¨æˆ¶ç®¡ç†ç•Œé¢
```javascript
// è¶…ç´šç®¡ç†å“¡å°ˆå±¬åŠŸèƒ½
â”œâ”€â”€ ç³»çµ±ç”¨æˆ¶å®Œæ•´ CRUD
â”œâ”€â”€ æ¬Šé™ç­‰ç´šè¨­å®š
â”œâ”€â”€ ç³»çµ±æ—¥èªŒæŸ¥çœ‹
â”œâ”€â”€ æ•¸æ“šå°å…¥/å°å‡º
â”œâ”€â”€ ç³»çµ±å¥åº·æª¢æŸ¥
â””â”€â”€ ç·Šæ€¥æ“ä½œåŠŸèƒ½
```

### 14. project-create.html - é …ç›®å‰µå»º â­â­â­â­â­
**åŠŸèƒ½**: è¤‡é›œçš„å››æ­¥é©Ÿé …ç›®å‰µå»ºæµç¨‹ (é«˜è¤‡é›œåº¦é é¢)
```javascript
// å››æ­¥é©Ÿå‰µå»ºæµç¨‹
æ­¥é©Ÿ1: é¸æ“‡å•†æ©Ÿ (Select Opportunity)
â”œâ”€â”€ å¾ CRM ç³»çµ±è¼‰å…¥å•†æ©Ÿåˆ—è¡¨
â”œâ”€â”€ æœå°‹éæ¿¾åŠŸèƒ½
â”œâ”€â”€ å•†æ©Ÿè©³æƒ…é è¦½
â””â”€â”€ å•†æ©Ÿé¸æ“‡é©—è­‰

æ­¥é©Ÿ2: é¸æ“‡å·¥ç¨‹é¡å‹ (Select Engineering Types)
â”œâ”€â”€ å‹•æ…‹è¼‰å…¥å·¥ç¨‹é¡å‹
â”‚   â”œâ”€â”€ SPC çŸ³å¡‘åœ°æ¿å·¥ç¨‹
â”‚   â”œâ”€â”€ æµ´æ«ƒå·¥ç¨‹
â”‚   â””â”€â”€ å…¶ä»–è‡ªå®šç¾©é¡å‹
â”œâ”€â”€ å–®é¸æ¨¡å¼ (èˆ‡å¤šé¸ä¸åŒ)
â”œâ”€â”€ å·¥ç¨‹é¡å‹åœ–ç¤ºå’Œæè¿°
â””â”€â”€ é¡å‹é¸æ“‡é©—è­‰

æ­¥é©Ÿ3: é¡¯ç¤ºçµ±è¨ˆ (Display Statistics)
â”œâ”€â”€ è‡ªå‹•è¨ˆç®—å·¥ç¨‹çµ±è¨ˆ
â”œâ”€â”€ é ä¼°å·¥æœŸå’Œæˆæœ¬
â”œâ”€â”€ è³‡æºéœ€æ±‚åˆ†æ
â”œâ”€â”€ é¢¨éšªè©•ä¼°å ±å‘Š
â””â”€â”€ æ•¸æ“šè¦–è¦ºåŒ–åœ–è¡¨

æ­¥é©Ÿ4: è¨­å®šæ¬Šé™ (Set Permissions)
â”œâ”€â”€ æ¥­ä¸»æ¬Šé™é…ç½®
â”‚   â”œâ”€â”€ å¾ newopportunitycontactsobj è¼‰å…¥
â”‚   â”œâ”€â”€ å¤šé¸æ¥­ä¸»æ”¯æŒ
â”‚   â””â”€â”€ æ¬Šé™ç­‰ç´šè¨­å®š
â”œâ”€â”€ ç®¡ç†å“¡é…ç½®
â”‚   â”œâ”€â”€ å¾ employees_simple è¼‰å…¥
â”‚   â”œâ”€â”€ ç®¡ç†æ¬Šé™åˆ†é…
â”‚   â””â”€â”€ å¯©æ ¸æµç¨‹è¨­å®š
â”œâ”€â”€ å·¥ç­é…ç½®
â”‚   â”œâ”€â”€ å·¥ç­é¡å‹å°æ‡‰
â”‚   â”œâ”€â”€ è² è²¬äººæŒ‡æ´¾
â”‚   â””â”€â”€ æˆå“¡æ¬Šé™è¨­å®š
â””â”€â”€ Supabase èªè­‰æ•´åˆ
    â”œâ”€â”€ è‡ªå‹•å‰µå»ºç”¨æˆ¶å¸³è™Ÿ
    â”œâ”€â”€ å¯†ç¢¼è‡ªå‹•ç”Ÿæˆ (æ‰‹æ©Ÿå¾Œ3ç¢¼)
    â””â”€â”€ èªè­‰æ˜ å°„å»ºç«‹
```

**æŠ€è¡“ç‰¹é»**:
```javascript
// æ­¥é©Ÿå°èˆªç³»çµ±
class StepNavigator {
    constructor() {
        this.currentStep = 1;
        this.totalSteps = 4;
    }
    
    nextStep() {
        // æ¨™è¨˜ç•¶å‰æ­¥é©Ÿå®Œæˆ
        this.markStepCompleted(this.currentStep);
        // è¼‰å…¥ä¸‹ä¸€æ­¥é©Ÿæ•¸æ“š
        this.loadStepData(this.currentStep + 1);
    }
}

// æ•¸æ“šé è¼‰å…¥ç­–ç•¥
async function init() {
    // ä¸¦è¡Œè¼‰å…¥å¤šå€‹æ•¸æ“šæº
    await Promise.all([
        loadEngineeringTypes(),  // å·¥ç¨‹é¡å‹
        loadTeams(),            // å·¥ç­è³‡æ–™
        loadOpportunities()     // CRM å•†æ©Ÿ
    ]);
}

// è¤‡é›œçš„APIæ•´åˆ
const API_ENDPOINTS = {
    opportunities: '/api/v1/opportunities',     // CRMå•†æ©Ÿ
    engineeringTypes: '/api/v1/engineering-types', // å·¥ç¨‹é¡å‹
    statistics: '/api/v1/statistics',           // çµ±è¨ˆæ•¸æ“š
    permissions: '/api/v1/permissions'          // æ¬Šé™é…ç½®
};
```

**è¡¨å–®é©—è­‰æ©Ÿåˆ¶**:
```javascript
// æ¯æ­¥é©Ÿçš„é©—è­‰è¦å‰‡
const VALIDATION_RULES = {
    step1: () => selectedOpportunity !== null,
    step2: () => selectedEngineeringTypes.length > 0,
    step3: () => statisticsLoaded && !hasErrors,
    step4: () => validatePermissionSettings()
};

// å‹•æ…‹æŒ‰éˆ•ç‹€æ…‹æ§åˆ¶
function updateButtonStates() {
    const nextBtn = document.getElementById(`step${currentStep}-next`);
    nextBtn.disabled = !VALIDATION_RULES[`step${currentStep}`]();
}
```

**ç·¨è¼¯æ¨¡å¼æ”¯æŒ**:
- URL åƒæ•¸æª¢æ¸¬: `?project_id=xxx` é€²å…¥ç·¨è¼¯æ¨¡å¼
- æ•¸æ“šé å¡«å……: å¾ç¾æœ‰é …ç›®è¼‰å…¥æ‰€æœ‰è¨­å®š
- æ›´æ–°vså‰µå»º: å‹•æ…‹åˆ‡æ› API ç«¯é»å’ŒæŒ‰éˆ•æ–‡å­—

### 15. project-create-simple.html - ç°¡åŒ–é …ç›®å‰µå»º
**åŠŸèƒ½**: å¿«é€Ÿå‰µå»ºé …ç›®çš„ç°¡åŒ–ç•Œé¢

### 16. project-edit.html - é …ç›®ç·¨è¼¯
**åŠŸèƒ½**: ä¿®æ”¹ç¾æœ‰é …ç›®çš„è¨­å®š

### 17. project-list-optimized.html - å„ªåŒ–ç‰ˆé …ç›®åˆ—è¡¨
**åŠŸèƒ½**: æ€§èƒ½å„ªåŒ–å¾Œçš„é …ç›®åˆ—è¡¨é é¢

### 18. setup-admin.html - ç³»çµ±åˆå§‹åŒ–
**åŠŸèƒ½**: ç³»çµ±é¦–æ¬¡è¨­ç½®å’Œç®¡ç†å“¡å¸³è™Ÿå‰µå»º

### 19. cleanup-storage.html - å­˜å„²æ¸…ç†å·¥å…·
**åŠŸèƒ½**: æ¸…ç†ç³»çµ±ç·©å­˜å’Œç„¡æ•ˆæ•¸æ“š

---

## ğŸ§ª æ¸¬è©¦èˆ‡å·¥å…·é é¢

### 20. test-team-management.html - å·¥ç­ç®¡ç†æ¸¬è©¦
**åŠŸèƒ½**: æ¸¬è©¦å·¥ç­åŠŸèƒ½çš„é–‹ç™¼é é¢

### 21. test-permissions.html - æ¬Šé™æ¸¬è©¦
**åŠŸèƒ½**: æ¸¬è©¦ä¸åŒç”¨æˆ¶è§’è‰²çš„æ¬Šé™è¨­å®š

### 22. unified-api-test.html - API æ¸¬è©¦å·¥å…·
**åŠŸèƒ½**: æ¸¬è©¦å¾Œç«¯ API ç«¯é»çš„å·¥å…·é é¢

---

## ğŸ—ï¸ é é¢æ¶æ§‹è¨­è¨ˆæ¨¡å¼

### 1. çµ„ä»¶åŒ–æ¶æ§‹
```javascript
// å…±ç”¨çµ„ä»¶
â”œâ”€â”€ js/user-profile-component.js  // ç”¨æˆ¶è³‡æ–™çµ„ä»¶
â”‚   â”œâ”€â”€ ç”¨æˆ¶è³‡æ–™è¼‰å…¥
â”‚   â”œâ”€â”€ ç™»å…¥ç‹€æ…‹ç®¡ç†
â”‚   â”œâ”€â”€ æ¬Šé™æª¢æŸ¥
â”‚   â””â”€â”€ ç”¨æˆ¶ç•Œé¢æ¸²æŸ“
â”œâ”€â”€ js/common.js                   // å…¬ç”¨å‡½æ•¸åº«
â”‚   â”œâ”€â”€ API èª¿ç”¨å°è£
â”‚   â”œâ”€â”€ æ—¥æœŸæ ¼å¼åŒ–
â”‚   â”œâ”€â”€ æ¬Šé™é©—è­‰
â”‚   â””â”€â”€ éŒ¯èª¤è™•ç†
â””â”€â”€ config.js                      // ç’°å¢ƒé…ç½®
    â”œâ”€â”€ API ç«¯é»é…ç½®
    â”œâ”€â”€ ç’°å¢ƒè‡ªå‹•æª¢æ¸¬
    â””â”€â”€ å¸¸é‡å®šç¾©
```

### 2. éŸ¿æ‡‰å¼è¨­è¨ˆæ¨¡å¼
```css
/* æ‰€æœ‰é é¢éµå¾ªéŸ¿æ‡‰å¼è¨­è¨ˆ */
@media (max-width: 768px) {
    .desktop-panel { display: none; }
    .mobile-panel { display: block; }
}

/* ä½¿ç”¨ Tailwind CSS çš„éŸ¿æ‡‰å¼é¡ */
<div class="hidden md:block">æ¡Œé¢ç‰ˆå…§å®¹</div>
<div class="block md:hidden">æ‰‹æ©Ÿç‰ˆå…§å®¹</div>
```

### 3. æ¬Šé™æ§åˆ¶æ¨¡å¼
```javascript
// é é¢ç´šæ¬Šé™æ§åˆ¶
async function init() {
    // 1. æª¢æŸ¥ç™»å…¥ç‹€æ…‹
    if (!localStorage.getItem('token')) {
        redirectToLogin();
        return;
    }
    
    // 2. è¼‰å…¥ç”¨æˆ¶è§’è‰²
    const userRole = await getCurrentUserProjectRole(projectId);
    
    // 3. æ‡‰ç”¨æ¬Šé™æ§åˆ¶
    applyRoleBasedView(userRole);
    
    // 4. è¼‰å…¥é é¢æ•¸æ“š
    await loadPageData();
}
```

### 4. æ•¸æ“šè¼‰å…¥æ¨¡å¼
```javascript
// çµ±ä¸€çš„æ•¸æ“šè¼‰å…¥ç­–ç•¥
class DataLoader {
    async loadWithCache(key, apiCall, ttl = 3600000) {
        // 1. æª¢æŸ¥ localStorage ç·©å­˜
        const cached = this.getFromCache(key);
        if (cached) return cached;
        
        // 2. èª¿ç”¨ API
        const data = await apiCall();
        
        // 3. å­˜å…¥ç·©å­˜
        this.saveToCache(key, data, ttl);
        
        return data;
    }
}
```

---

## ğŸ”„ é é¢é–“å°èˆªæµç¨‹

### ç”¨æˆ¶ä½¿ç”¨æµç¨‹åœ–
```
ç™»å…¥é é¢ (login-simple.html)
    â†“ é©—è­‰æˆåŠŸ
é …ç›®åˆ—è¡¨é  (project-list.html)
    â†“ é¸æ“‡é …ç›®
é …ç›®è©³æƒ…é  (project-detail.html)
    â”œâ”€â†’ ç”¨æˆ¶ç®¡ç† (project-user-management.html)
    â”œâ”€â†’ å€‹äººè³‡æ–™ (user-profile.html)  
    â””â”€â†’ æ—¥èªŒåˆ†äº« (daily-log-share.html)

ç®¡ç†å“¡é¡å¤–æµç¨‹:
â”œâ”€â†’ å…¨åŸŸç”¨æˆ¶ç®¡ç† (global-user-management.html)
â”œâ”€â†’ é …ç›®å‰µå»º (project-create.html)
â””â”€â†’ ç³»çµ±å·¥å…·é é¢
```

### URL åƒæ•¸å‚³éæ¨¡å¼
```javascript
// æ¨™æº– URL åƒæ•¸æ ¼å¼
project-detail.html?id=proj_1755555899996
project-user-management.html?project_id=proj_1755555899996
daily-log-share.html?project_id=proj_1755555899996&date=2024-01-01

// JavaScript åƒæ•¸è§£æ
const urlParams = new URLSearchParams(window.location.search);
const projectId = urlParams.get('project_id');
```

---

## ğŸ“Š é é¢è¤‡é›œåº¦åˆ†æ

### é«˜è¤‡é›œåº¦é é¢ (éœ€è¦é‡é»ç¶­è­·)
1. **project-create.html** â­â­â­â­â­
   - å››æ­¥é©Ÿå‰µå»ºæµç¨‹
   - å¤š API æ•¸æ“šæºæ•´åˆ (CRMã€å·¥ç¨‹é¡å‹ã€çµ±è¨ˆã€æ¬Šé™)
   - è¤‡é›œçš„è¡¨å–®é©—è­‰æ©Ÿåˆ¶
   - Supabase èªè­‰ç³»çµ±æ•´åˆ
   - ç·¨è¼¯/å‰µå»ºé›™æ¨¡å¼æ”¯æŒ

2. **project-user-management.html** â­â­â­â­â­
   - è¤‡é›œçš„æ¬Šé™é‚è¼¯
   - ä¸‰æ•¸æ“šæºæ•´åˆ (å“¡å·¥ã€å¸«çˆ¶ã€æ¥­ä¸»)
   - å‹•æ…‹ UI æ›´æ–°
   - è§’è‰²æ¬Šé™æ§åˆ¶

3. **project-detail.html** â­â­â­â­
   - å¤šåŠŸèƒ½æ•´åˆ
   - å¯¦æ™‚æ•¸æ“šæ›´æ–°
   - è§’è‰²ç›¸é—œé¡¯ç¤º

4. **project-list.html** â­â­â­
   - æ•¸æ“šç¯©é¸å’Œæ’åº
   - æ‰¹é‡æ“ä½œ
   - æ€§èƒ½å„ªåŒ–éœ€æ±‚

### ä¸­ç­‰è¤‡é›œåº¦é é¢
- global-user-management.html
- member-management.html
- project-create.html

### ä½è¤‡é›œåº¦é é¢
- login-simple.html
- user-profile.html
- daily-log-share.html

---

## ğŸš€ æ€§èƒ½å„ªåŒ–å»ºè­°

### 1. é é¢è¼‰å…¥å„ªåŒ–
```javascript
// å»¶é²è¼‰å…¥éé—œéµå…§å®¹
window.addEventListener('load', () => {
    setTimeout(loadSecondaryContent, 100);
});

// åœ–ç‰‡æ‡¶è¼‰å…¥
<img loading="lazy" src="image.jpg" alt="description">
```

### 2. ç·©å­˜ç­–ç•¥
```javascript
// åˆ†å±¤ç·©å­˜ç­–ç•¥
â”œâ”€â”€ ç”¨æˆ¶è³‡æ–™: 30åˆ†é˜ TTL
â”œâ”€â”€ é …ç›®åˆ—è¡¨: 10åˆ†é˜ TTL  
â”œâ”€â”€ å·¥ç­æ•¸æ“š: 5åˆ†é˜ TTL
â””â”€â”€ å³æ™‚æ•¸æ“š: ä¸ç·©å­˜
```

### 3. API èª¿ç”¨å„ªåŒ–
```javascript
// æ‰¹é‡è«‹æ±‚æ¸›å°‘ API èª¿ç”¨
const batchRequests = async (requests) => {
    return Promise.all(requests.map(req => fetchWithRetry(req)));
};
```

---

é€™å€‹é é¢æ¶æ§‹æ–‡æª”è©³ç´°èªªæ˜äº†ç³»çµ±ä¸­æ¯å€‹é é¢çš„åŠŸèƒ½ã€ç”¨é€”å’ŒæŠ€è¡“å¯¦ç¾ï¼Œæ‡‰è©²èƒ½å¹«åŠ©æ–°å·¥ç¨‹å¸«å¿«é€Ÿç†è§£æ•´å€‹ç³»çµ±çš„çµæ§‹å’Œå„é é¢é–“çš„é—œä¿‚ï¼