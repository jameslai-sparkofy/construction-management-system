# 案場欄位需求對照表

## 現有欄位（根據文檔）

### object_8w9cb__c (SPC案場)
- `field_WD7k1__c`: 棟別
- `field_npLvn__c__r`: 樓層  
- `field_XuJP2__c`: 戶別
- `field_i2Q1g__c`: 坪數1
- `field_tXAko__c`: 坪數2
- `field_Q6Svh__c`: 面積
- `field_23Z5i__c__r`: 狀態

## 需要的施工欄位（根據專案說明書）

| 需求欄位 | 說明 | 建議 API 欄位名稱 | 資料類型 |
|---------|------|------------------|----------|
| 平面圖 | 平面圖檔案URL | field_floor_plan__c | 網址/文本 |
| 施工前特別備註 | 施工前的注意事項 | field_before_notes__c | 多行文本 |
| 施工前照片 | 施工前照片URL（可多張） | field_before_photos__c | 網址/文本 |
| 鋪設坪數 | 實際施工坪數 | field_construction_area__c | 數字 |
| 施工日期 | 施工完成日期 | field_construction_date__c | 日期 |
| 施工完成 | 是否完成施工 | field_is_completed__c | 布林/單選 |
| 施工後照片 | 施工後照片URL（可多張） | field_after_photos__c | 網址/文本 |
| 施工人員 | 施工人員名稱 | field_worker_name__c | 單行文本 |
| 外部顯示名稱 | 管理員備註 | field_external_display__c | 單行文本 |

## 資料架構說明

### 方案一：所有資料存在 CRM（推薦）
**優點**：
- 資料集中管理
- 與現有 CRM 系統整合
- 利用現有同步機制

**實作方式**：
1. 在紛享銷客中為 object_8w9cb__c 新增上述欄位
2. 透過 REST API 讀取和更新案場資料
3. 照片存在 R2，URL 存在 CRM

### 方案二：混合儲存
**優點**：
- 基本資料在 CRM，施工資料在本地
- 減少 CRM 欄位修改

**實作方式**：
1. CRM 儲存基本案場資料（棟別、樓層、戶別、坪數）
2. engineering-management D1 儲存施工進度
3. 顯示時合併兩邊資料

## 目前狀態

根據專案說明書，系統應該將所有案場資料（包括施工進度）都儲存在 CRM 的 fx-crm-database 中。

**待確認事項**：
1. CRM 中是否已有這些施工相關欄位？
2. 如果沒有，是否需要在 CRM 中新增這些欄位？
3. 或者改為混合儲存方案？

## 建議下一步

1. **確認 CRM 欄位**：
   - 登入紛享銷客確認 object_8w9cb__c 的完整欄位列表
   - 確認是否有施工相關欄位

2. **如果 CRM 沒有這些欄位**：
   - 選項 A：在 CRM 中新增這些自定義欄位
   - 選項 B：採用混合儲存方案

3. **更新系統實作**：
   - 根據確認結果調整資料存取邏輯
   - 更新 API 端點以正確讀寫資料